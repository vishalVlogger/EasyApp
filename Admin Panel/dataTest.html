<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Data test</title>
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-firestore.js"></script>
    <script src="JS/dbConnection.js"></script>
</head>
<body>
    <script>
        var firestore = firebase.firestore();
        var first = firestore.collection("Orders")
        .where('status','==','cancelled')
        .orderBy('orderDate','desc')
        .limit(10);
        
        first.get().then(function (documentSnapshots) {
        // Get the last visible document
        var lastVisible = documentSnapshots.docs[documentSnapshots.docs.length - 1];
        //console.log("last", lastVisible);
        if(documentSnapshots.docs.length==0)
        {
            alert("There is no Record Found");
        }
        else
        {
            documentSnapshots.forEach(function(doc) {
                console.log(doc.data());
            });
        }  
    });
        
        
    </script>
</body>
</html>